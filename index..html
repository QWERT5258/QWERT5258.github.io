<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°æ„ç¥ç§˜ç½‘ç«™</title>
    <style>
        /* ç½‘ç«™ä¸»ä½“æ ·å¼ */
        body {
            margin: 0;
            padding: 0;
            text-align: center;
            background: #f8f8f8;
            font-size: 28px;
            font-family: sans-serif;
            position: relative;
            min-height: 100vh;
            overflow-x: hidden;
        }
        /* æ‚¬æµ®éŸ³ä¹æ’­æ”¾å™¨æ ·å¼ */
        .float-player {
            position: fixed;
            bottom: 50px;
            right: 20px;
            width: 120px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.2);
            padding: 15px;
            text-align: center;
            cursor: move;
            z-index: 9999; /* æ‚¬æµ®æœ€ä¸Šå±‚ï¼Œä¸é®æŒ¡ç½‘ç«™å†…å®¹ */
            box-sizing: border-box;
        }
        .player-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: none;
            background: #3498db;
            color: white;
            font-size: 16px;
            margin: 5px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            pointer-events: auto; /* æŒ‰é’®å¯ç‚¹å‡»ï¼Œä¸è¢«æ‹–åŠ¨è¦†ç›– */
        }
        .switch-btn {
            background: #9b59b6;
        }
        .song-name {
            font-size: 12px;
            color: #333;
            margin: 10px 0 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        /* éšè—åŸç”ŸéŸ³é¢‘æ§ä»¶ */
        audio {
            display: none;
        }
        /* ç½‘ç«™å†…å®¹æ ·å¼ */
        h1 {
            margin: 0 0 20px 0;
        }
        img {
            width: 90%;
            max-width: 300px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        h2 {
            color: #333;
            margin: 30px 0 15px 0;
            font-size: 30px;
        }
        video {
            width: 90%;
            max-width: 600px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            margin-bottom: 20px;
        }
        p {
            color: #666;
            font-size: 24px;
            margin: 0 0 30px 0;
        }
        h3 {
            margin: 0;
            color: #555;
        }
        .content-wrapper {
            padding: 30px;
        }
    </style>
</head>
<body>
    <!-- ç½‘ç«™ä¸»ä½“å†…å®¹ -->
    <div class="content-wrapper">
        <h1>å°æ„ğŸ¤“</h1>
        
        <!-- å›¾ç‰‡åŒºåŸŸï¼ˆéœ€ç¡®ä¿anime.pngä¸HTMLåŒæ–‡ä»¶å¤¹ï¼‰ -->
        <img src="anime.png" alt="åŠ¨æ¼«å›¾">
        
        <!-- è§†é¢‘åŒºåŸŸ -->
        <h2>è§†é¢‘æ’­æ”¾ ğŸ¬</h2>
        <video 
            src="https://www.w3school.com.cn/i/movie.mp4"
            controls 
        >
            ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ï¼Œè¯·æ›´æ¢æµè§ˆå™¨åé‡è¯•
        </video>
        <p>ç‚¹å‡»æ’­æ”¾æŒ‰é’®å¼€å§‹è§‚çœ‹ï½</p>
        
        <h3>æ¬¢è¿æ¥åˆ°å°æ„çš„ç½‘ç«™ ğŸ˜ğŸ˜‹ğŸ˜</h3>
    </div>

    <!-- æ‚¬æµ®éŸ³ä¹æ’­æ”¾å™¨ -->
    <div class="float-player" id="floatPlayer">
        <div class="song-name" id="currentSong">æœªæ’­æ”¾</div>
        <button class="player-btn" onclick="playPause()">â–¶ï¸</button>
        <button class="player-btn switch-btn" onclick="switchSong()">ğŸ”„</button>
    </div>

    <!-- éŸ³é¢‘æ ¸å¿ƒæ ‡ç­¾ -->
    <audio id="audioPlayer" preload="metadata">
        ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾ï¼Œè¯·æ›´æ¢æµè§ˆå™¨
    </audio>

    <script>
        // 1. å¹´é¾„éªŒè¯é€»è¾‘ï¼ˆé¡µé¢åŠ è½½æ—¶æ‰§è¡Œï¼Œä»…ä¿ç•™ä¸€æ¬¡ï¼‰
        let age = prompt("è¯·è¾“å…¥ä½ çš„å¹´é¾„");
        age = Number(age);
        if (isNaN(age) || age < 0) {
            alert("è¯·è¾“å…¥æœ‰æ•ˆçš„å¹´é¾„æ•°å­—ï¼");
            window.close() || location.reload();
        } else if (age >= 18) {
            alert("ä½ å·²æˆå¹´ï¼Œæ¬¢è¿è¿›å…¥ï¼");
        } else {
            alert("ä½ æœªæˆå¹´ï¼Œç¦æ­¢è¿›å…¥ï¼");
            window.close() || location.reload();
        }

        // 2. æ‚¬æµ®éŸ³ä¹æ’­æ”¾å™¨é€»è¾‘
        const songList = [
            // å¯æ’­æ”¾çš„ç½‘ç»œéŸ³é¢‘é“¾æ¥ï¼ˆæ— è·¨åŸŸé™åˆ¶ï¼‰
            { name: "å°æ„ - è¯´æ•£å°±æ•£", url: "share_f661a26a486e51a33f4c935c24f3af191768599504522.mp3" },
            { name: "çº¯éŸ³ä¹ - æ²»æ„ˆ", url: "https://freesound.org/data/previews/654/654219_13600545-lq.mp3" },
            // æœ¬åœ°æ­Œæ›²æ·»åŠ æ ¼å¼ï¼š{name: "æ­Œæ›²å", url: "æœ¬åœ°æ–‡ä»¶å.mp3"}ï¼ˆéœ€ä¸HTMLåŒæ–‡ä»¶å¤¹ï¼‰
        ];

        let currentIndex = 0;
        const audio = document.getElementById("audioPlayer");
        const player = document.getElementById("floatPlayer");
        const songNameElem = document.getElementById("currentSong");
        const playBtn = document.querySelector(".player-btn:not(.switch-btn)");
        let isPlaying = false;
        let isDragging = false;
        let startX, startY, offsetX, offsetY;

        // åˆå§‹åŒ–æ­Œæ›²
        function initSong(index) {
            const song = songList[index];
            audio.src = song.url;
            songNameElem.textContent = song.name;
            audio.onloadeddata = () => console.log("æ­Œæ›²åŠ è½½å®Œæˆ");
            audio.onerror = () => alert("æ­Œæ›²åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥é“¾æ¥");
        }
        initSong(currentIndex);

        // æ’­æ”¾/æš‚åœåˆ‡æ¢
        function playPause() {
            if (isPlaying) {
                audio.pause();
                playBtn.textContent = "â–¶ï¸";
            } else {
                audio.play().then(() => {
                    playBtn.textContent = "â¸ï¸";
                }).catch(() => {
                    alert("æ’­æ”¾å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨ç‚¹å‡»æ’­æ”¾å™¨æŒ‰é’®ï¼ˆæµè§ˆå™¨é™åˆ¶ï¼‰");
                });
            }
            isPlaying = !isPlaying;
        }

        // åˆ‡æ¢æ­Œæ›²
        function switchSong() {
            currentIndex = (currentIndex + 1) % songList.length;
            initSong(currentIndex);
            if (isPlaying) audio.play();
        }

        // æ’­æ”¾å®Œæ¯•è‡ªåŠ¨åˆ‡æ­Œ
        audio.onended = switchSong;

        // æ‚¬æµ®çª—æ‹–åŠ¨ï¼ˆä¿®å¤æŒ‰é’®ç‚¹å‡»å†²çªï¼‰
        player.addEventListener("mousedown", (e) => {
            if (e.target.tagName === "BUTTON") return;
            isDragging = true;
            startX = e.clientX;
            startY = e.clientY;
            offsetX = player.offsetLeft;
            offsetY = player.offsetTop;
            player.style.cursor = "grabbing";
        });

        document.addEventListener("mousemove", (e) => {
            if (!isDragging) return;
            const newX = offsetX + (e.clientX - startX);
            const newY = offsetY + (e.clientY - startY);
            const maxX = window.innerWidth - player.offsetWidth;
            const maxY = window.innerHeight - player.offsetHeight;
            player.style.left = `${Math.max(0, Math.min(newX, maxX))}px`;
            player.style.top = `${Math.max(0, Math.min(newY, maxY))}px`;
        });

        document.addEventListener("mouseup", () => {
            isDragging = false;
            player.style.cursor = "move";
        });

        // è§¦æ‘¸è®¾å¤‡æ”¯æŒï¼ˆæ‰‹æœºæ»‘åŠ¨ï¼‰
        player.addEventListener("touchstart", (e) => {
            if (e.target.tagName === "BUTTON") return;
            const touch = e.touches[0];
            startX = touch.clientX;
            startY = touch.clientY;
            offsetX = player.offsetLeft;
            offsetY = player.offsetTop;
            isDragging = true;
        });

        document.addEventListener("touchmove", (e) => {
            if (!isDragging) return;
            const touch = e.touches[0];
            const newX = offsetX + (touch.clientX - startX);
            const newY = offsetY + (touch.clientY - startY);
            const maxX = window.innerWidth - player.offsetWidth;
            const maxY = window.innerHeight - player.offsetHeight;
            player.style.left = `${Math.max(0, Math.min(newX, maxX))}px`;
            player.style.top = `${Math.max(0, Math.min(newY, maxY))}px`;
        });

        document.addEventListener("touchend", () => {
            isDragging = false;
        });
    </script>
</body>
</html> 